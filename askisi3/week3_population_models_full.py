# week3_population_models_full.py  # ÏŒÎ½Î¿Î¼Î± Î±ÏÏ‡ÎµÎ¯Î¿Ï… Î³Î¹Î± Î±Î½Î±Ï†Î¿ÏÎ¬
# Î£ÎºÎ¿Ï€ÏŒÏ‚: ÎœÎ¿Î½Ï„Î­Î»Î± Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏÎ½ (Î›Î¿Î³Î¹ÏƒÏ„Î¹ÎºÏŒ & Lotkaâ€“Volterra) Î¼Îµ Î¿Ï€Ï„Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ±Î¹ ÎµÏ…Î±Î¹ÏƒÎ¸Î·ÏƒÎ¯Î±  # Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î®
# Î•ÎºÏ„ÎµÎ»ÎµÎ¯: 1) Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÏŒ Î´Î¹Î±ÎºÏÎ¹Ï„ÏŒ Î¼Îµ Î¸ÏŒÏÏ…Î²Î¿, 2) Lotkaâ€“Volterra Î¼Îµ RK4, 3) sweep Ï€Î±ÏÎ±Î¼Î­Ï„ÏÏ‰Î½ + heatmap  # ÏƒÏÎ½Î¿ÏˆÎ·

from pathlib import Path  # Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î´Î¹Î±Î´ÏÎ¿Î¼ÏÎ½
import numpy as np        # Î±ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ¿Î¯ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Î¯
import pandas as pd       # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½ ÏƒÎµ CSV
import matplotlib.pyplot as plt  # Î³ÏÎ±Ï†Î®Î¼Î±Ï„Î±

OUT = Path("out_w3"); OUT.mkdir(exist_ok=True)  # Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï†Î±ÎºÎ­Î»Î¿Ï… ÎµÎ¾ÏŒÎ´Ï‰Î½

# ---------------- Î›ÎŸÎ“Î™Î£Î¤Î™ÎšÎŸ ÎœÎŸÎÎ¤Î•Î›ÎŸ (Î”Î™Î‘ÎšÎ¡Î™Î¤ÎŸ) ----------------  # ÎµÎ½ÏŒÏ„Î·Ï„Î±
def logistic_discrete(P0=15, r=0.28, K=900, steps=160, noise_std=2.5, seed=7):  # Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚ Î¼Îµ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚
    rng = np.random.default_rng(seed)  # Ï„Ï…Ï‡Î±Î¯Î¿Ï‚ Î³ÎµÎ½Î½Î®Ï„Î¿ÏÎ±Ï‚
    P = np.empty(steps)                # Ï€ÏÎ¿-Î´Î­ÏƒÎ¼ÎµÏ…ÏƒÎ· Ï€Î¯Î½Î±ÎºÎ± Ï€Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï
    P[0] = float(P0)                   # Î±ÏÏ‡Î¹ÎºÏŒÏ‚ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏŒÏ‚
    for t in range(1, steps):          # ÎµÏ€Î±Î½Î¬Î»Î·ÏˆÎ· ÏƒÎµ Î²Î®Î¼Î±Ï„Î± Ï‡ÏÏŒÎ½Î¿Ï…
        growth = r * P[t-1] * (1 - P[t-1] / K)  # Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ® Î±ÏÎ¾Î·ÏƒÎ·
        noise = rng.normal(0, noise_std)        # Î¸ÏŒÏÏ…Î²Î¿Ï‚ ÎºÎ±Î½Î¿Î½Î¹ÎºÏŒÏ‚
        P[t] = max(0.0, P[t-1] + growth + noise)  # ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î¼Îµ Î¼Î· Î±ÏÎ½Î·Ï„Î¹ÎºÏŒ ÎºÎ±Ï„ÏÏ†Î»Î¹
    return P                           # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„ÏÎ¿Ï‡Î¹Î¬Ï‚ Ï€Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï

def plot_series(x, y, title, fname, xlabel="Î§ÏÏŒÎ½Î¿Ï‚ (Î²Î®Î¼Î±Ï„Î±)", ylabel="Î Î»Î·Î¸Ï…ÏƒÎ¼ÏŒÏ‚"):  # Î²Î¿Î·Î¸Î·Ï„Î¹ÎºÏŒ Î³Î¹Î± Î³ÏÎ±Ï†Î®Î¼Î±Ï„Î±
    plt.figure()                       # Î½Î­Î± Ï†Î¹Î³Î¿ÏÏÎ±
    plt.plot(x, y, marker="o", markersize=3, linewidth=1, label="P")  # ÎºÎ±Î¼Ï€ÏÎ»Î· Î¼Îµ Î´ÎµÎ¯ÎºÏ„ÎµÏ‚
    plt.xlabel(xlabel)                 # ÎµÏ„Î¹ÎºÎ­Ï„Î± Î¬Î¾Î¿Î½Î± x
    plt.ylabel(ylabel)                 # ÎµÏ„Î¹ÎºÎ­Ï„Î± Î¬Î¾Î¿Î½Î± y
    plt.title(title)                   # Ï„Î¯Ï„Î»Î¿Ï‚
    plt.legend()                       # Ï…Ï€ÏŒÎ¼Î½Î·Î¼Î±
    plt.tight_layout()                 # Ï„Î±ÎºÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï€ÎµÏÎ¹Î¸Ï‰ÏÎ¯Ï‰Î½
    p = OUT / fname                    # Ï€Î»Î®ÏÎ·Ï‚ Î´Î¹Î±Î´ÏÎ¿Î¼Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï… ÎµÎ¹ÎºÏŒÎ½Î±Ï‚
    plt.savefig(p, dpi=160)            # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· PNG
    print("ğŸ–¼ï¸", p)                    # Î¼Î®Î½Ï…Î¼Î± Ï„Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±Ï‚ Î³ÏÎ±Ï†Î®Î¼Î±Ï„Î¿Ï‚

# ---------------- ODE ÎŸÎ›ÎŸÎšÎ›Î—Î¡Î©Î£Î— (RK4 Î“Î•ÎÎ™ÎšÎŸÎ£) ----------------  # ÎµÎ½ÏŒÏ„Î·Ï„Î±
def rk4(f, y0, h, n):                 # ÎºÎ»Î±ÏƒÎ¹ÎºÏŒÏ‚ Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Ï„Î®Ï‚ 4Î·Ï‚ Ï„Î¬Î¾Î·Ï‚
    y = np.zeros((n + 1, len(y0)))    # Ï€Î¯Î½Î±ÎºÎ±Ï‚ Î»ÏÏƒÎ·Ï‚
    y[0] = y0                         # Î±ÏÏ‡Î¹ÎºÎ® ÏƒÏ…Î½Î¸Î®ÎºÎ·
    for i in range(n):                # Î²Î®Î¼Î±Ï„Î± Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·Ï‚
        k1 = f(y[i])                  # ÎºÎ»Î¯ÏƒÎ· 1
        k2 = f(y[i] + h * k1 / 2)     # ÎºÎ»Î¯ÏƒÎ· 2
        k3 = f(y[i] + h * k2 / 2)     # ÎºÎ»Î¯ÏƒÎ· 3
        k4 = f(y[i] + h * k3)         # ÎºÎ»Î¯ÏƒÎ· 4
        y[i + 1] = y[i] + (h / 6) * (k1 + 2*k2 + 2*k3 + k4)  # ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎºÎ±Ï„Î¬ RK4
    return y                          # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ ÏƒÎ·Î¼ÎµÎ¯Ï‰Î½

# ---------------- LOTKAâ€“VOLTERRA (Î˜Î—Î¡Î•Î¥Î¤Î—Î£â€“Î˜Î—Î¡Î‘ÎœÎ‘) ----------------  # ÎµÎ½ÏŒÏ„Î·Ï„Î±
def lotka_volterra(alpha=0.55, beta=0.028, delta=0.012, gamma=0.45,  # Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿Î¹ ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚
                   x0=35, y0=10, T=120, h=0.1):                      # Î±ÏÏ‡Î¹ÎºÎ­Ï‚ & Ï‡ÏÎ¿Î½Î¹ÏƒÎ¼ÏŒÏ‚
    def f(v):                                   # Î´ÎµÎ¾Î¯ Î¼Î­Î»Î¿Ï‚ ODE
        x, y = v                                # Î±Ï€Î¿ÏƒÏ…ÏƒÎºÎµÏ…Î±ÏƒÎ¯Î± Î¸Î®ÏÎ±Î¼Î±/Î¸Î·ÏÎµÏ…Ï„Î®Ï‚
        dx = alpha * x - beta * x * y           # ÎµÎ¾Î¯ÏƒÏ‰ÏƒÎ· Î¸Î·ÏÎ¬Î¼Î±Ï„Î¿Ï‚
        dy = delta * x * y - gamma * y          # ÎµÎ¾Î¯ÏƒÏ‰ÏƒÎ· Î¸Î·ÏÎµÏ…Ï„Î®
        return np.array([dx, dy], float)        # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Î´Î¹Î±Î½ÏÏƒÎ¼Î±Ï„Î¿Ï‚
    n = int(T / h)                              # Î±ÏÎ¹Î¸Î¼ÏŒÏ‚ Î²Î·Î¼Î¬Ï„Ï‰Î½
    sol = rk4(f, np.array([x0, y0], float), h, n)  # Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· Î¼Îµ RK4
    t = np.arange(n + 1) * h                    # Î´Î¹Î¬Î½Ï…ÏƒÎ¼Î± Ï‡ÏÏŒÎ½Î¿Ï…
    prey = sol[:, 0]                            # Î±Ï€Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ· Î¸Î·ÏÎ¬Î¼Î±Ï„Î¿Ï‚
    pred = sol[:, 1]                            # Î±Ï€Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ· Î¸Î·ÏÎµÏ…Ï„Î®
    return t, prey, pred                        # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Ï‡ÏÎ¿Î½Î¹ÎºÎ®Ï‚ ÏƒÎµÎ¹ÏÎ¬Ï‚ ÎºÎ±Î¹ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏÎ½

def plot_lv_time(t, prey, pred, fname):         # Ï‡ÏÎ¿Î½Î¹ÎºÎ® Î±Ï€ÎµÎ¹ÎºÏŒÎ½Î¹ÏƒÎ· LV
    plt.figure()                                # Î½Î­Î± Ï†Î¹Î³Î¿ÏÏÎ±
    plt.plot(t, prey, label="Î˜Î®ÏÎ±Î¼Î±")           # ÎºÎ±Î¼Ï€ÏÎ»Î· Î¸Î·ÏÎ¬Î¼Î±Ï„Î¿Ï‚
    plt.plot(t, pred, label="Î˜Î·ÏÎµÏ…Ï„Î®Ï‚")         # ÎºÎ±Î¼Ï€ÏÎ»Î· Î¸Î·ÏÎµÏ…Ï„Î®
    plt.xlabel("Î§ÏÏŒÎ½Î¿Ï‚")                        # ÎµÏ„Î¹ÎºÎ­Ï„Î± x
    plt.ylabel("Î Î»Î·Î¸Ï…ÏƒÎ¼ÏŒÏ‚")                     # ÎµÏ„Î¹ÎºÎ­Ï„Î± y
    plt.title("Lotkaâ€“Volterra: Î•Î¾Î­Î»Î¹Î¾Î· ÏƒÏ„Î¿ Ï‡ÏÏŒÎ½Î¿")  # Ï„Î¯Ï„Î»Î¿Ï‚
    plt.legend()                                # Ï…Ï€ÏŒÎ¼Î½Î·Î¼Î±
    plt.tight_layout()                          # Ï€ÎµÏÎ¹Î¸ÏÏÎ¹Î±
    p = OUT / fname                             # Î­Î¾Î¿Î´Î¿Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï…
    plt.savefig(p, dpi=160)                     # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
    print("ğŸ–¼ï¸", p)                              # ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·

def plot_lv_phase(prey, pred, fname):              # Ï†Î±ÏƒÎ¹ÎºÏŒ Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î± LV
    plt.figure()                                   # Î½Î­Î± Ï†Î¹Î³Î¿ÏÏÎ±
    plt.plot(prey, pred)                           # Ï„ÏÎ¿Ï‡Î¹Î¬ ÏƒÏ„Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ (x,y)
    plt.xlabel("Î˜Î®ÏÎ±Î¼Î± (x)")                       # ÎµÏ„Î¹ÎºÎ­Ï„Î± x
    plt.ylabel("Î˜Î·ÏÎµÏ…Ï„Î®Ï‚ (y)")                     # ÎµÏ„Î¹ÎºÎ­Ï„Î± y
    plt.title("Lotkaâ€“Volterra: Î¦Î±ÏƒÎ¹ÎºÏŒ Î”Î¹Î¬Î³ÏÎ±Î¼Î¼Î±")  # Ï„Î¯Ï„Î»Î¿Ï‚
    plt.tight_layout()                             # Ï€ÎµÏÎ¹Î¸ÏÏÎ¹Î±
    p = OUT / fname                                # Î­Î¾Î¿Î´Î¿Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï…
    plt.savefig(p, dpi=160)                        # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
    print("ğŸ–¼ï¸", p)                                 # ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·

# ---------------- Î•Î¥Î‘Î™Î£Î˜Î—Î£Î™Î‘ / Î£Î‘Î¡Î©Î£Î— Î Î‘Î¡Î‘ÎœÎ•Î¤Î¡Î©Î ----------------  # ÎµÎ½ÏŒÏ„Î·Ï„Î±
def logistic_peak(P0, r, K, steps=140, noise_std=0.0):  # Î²Î¿Î·Î¸Î·Ï„Î¹ÎºÏŒ Î³Î¹Î± Î¼ÎµÏ„ÏÎ¹ÎºÎ® ÎºÎ¿ÏÏ…Ï†Î®Ï‚
    P = logistic_discrete(P0=P0, r=r, K=K, steps=steps, noise_std=noise_std, seed=123)  # Ï€ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·
    return np.max(P)                                # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Î¼Î­Î³Î¹ÏƒÏ„Î¿Ï… Ï€Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï

def sweep_logistic(P0_vals, r_vals, K=900):         # ÏƒÎ¬ÏÏ‰ÏƒÎ· ÏƒÎµ Ï€Î»Î­Î³Î¼Î± Ï„Î¹Î¼ÏÎ½
    heat = np.zeros((len(P0_vals), len(r_vals)))    # Ï€Î¯Î½Î±ÎºÎ±Ï‚ heatmap
    for i, P0 in enumerate(P0_vals):                # Î²ÏÏŒÏ‡Î¿Ï‚ ÏƒÎµ Î±ÏÏ‡Î¹ÎºÎ¬
        for j, r in enumerate(r_vals):              # Î²ÏÏŒÏ‡Î¿Ï‚ ÏƒÎµ ÏÏ…Î¸Î¼Î¿ÏÏ‚ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·Ï‚
            heat[i, j] = logistic_peak(P0, r, K)    # Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ¿ÏÏ…Ï†Î®Ï‚
    return heat                                     # ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® Ï€Î»Î­Î³Î¼Î±Ï„Î¿Ï‚

def plot_heatmap(P0_vals, r_vals, Z, fname):        # ÏƒÏ‡ÎµÎ´Î¯Î±ÏƒÎ· heatmap
    plt.figure()                                    # Î½Î­Î± Ï†Î¹Î³Î¿ÏÏÎ±
    extent = [min(r_vals), max(r_vals), min(P0_vals), max(P0_vals)]  # ÏŒÏÎ¹Î± Î±Î¾ÏŒÎ½Ï‰Î½
    plt.imshow(Z, aspect="auto", origin="lower", extent=extent)      # Î±Ï€ÎµÎ¹ÎºÏŒÎ½Î¹ÏƒÎ· Ï€Î»Î­Î³Î¼Î±Ï„Î¿Ï‚
    plt.colorbar(label="ÎœÎ­Î³Î¹ÏƒÏ„Î¿Ï‚ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏŒÏ‚")         # Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ® Î¼Ï€Î¬ÏÎ±
    plt.xlabel("r (ÏÏ…Î¸Î¼ÏŒÏ‚ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·Ï‚)")               # ÎµÏ„Î¹ÎºÎ­Ï„Î± x
    plt.ylabel("P0 (Î±ÏÏ‡Î¹ÎºÏŒÏ‚ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏŒÏ‚)")             # ÎµÏ„Î¹ÎºÎ­Ï„Î± y
    plt.title("Î›Î¿Î³Î¹ÏƒÏ„Î¹ÎºÏŒ: heatmap Î¼Î­Î³Î¹ÏƒÏ„Î¿Ï… Ï€Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï")  # Ï„Î¯Ï„Î»Î¿Ï‚
    plt.tight_layout()                               # Ï€ÎµÏÎ¹Î¸ÏÏÎ¹Î±
    p = OUT / fname                                  # Î­Î¾Î¿Î´Î¿Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï…
    plt.savefig(p, dpi=170)                          # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·
    print("ğŸ–¼ï¸", p)                                   # ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·

# ---------------- ÎšÎ¥Î¡Î™ÎŸ Î Î¡ÎŸÎ“Î¡Î‘ÎœÎœÎ‘ ----------------  # ÎµÎ½ÏŒÏ„Î·Ï„Î±
def main():                                          # ÎµÎ¯ÏƒÎ¿Î´Î¿Ï‚ ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚
    P = logistic_discrete()                          # ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ¿Ï Î¼Î¿Î½Ï„Î­Î»Î¿Ï…
    pd.DataFrame({"t": np.arange(len(P)), "P": P}).to_csv(OUT / "logistic.csv", index=False)  # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· CSV
    plot_series(np.arange(len(P)), P, "Î›Î¿Î³Î¹ÏƒÏ„Î¹ÎºÏŒ (Î¼Îµ Î¸ÏŒÏÏ…Î²Î¿ Ïƒâ‰ˆ2.5)", "logistic.png")          # Î³ÏÎ¬Ï†Î·Î¼Î± Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ¿Ï

    t, prey, pred = lotka_volterra()                 # ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Lotkaâ€“Volterra
    pd.DataFrame({"t": t, "prey": prey, "pred": pred}).to_csv(OUT / "lv.csv", index=False)   # Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· CSV
    plot_lv_time(t, prey, pred, "lv_time.png")       # Ï‡ÏÎ¿Î½Î¹ÎºÏŒ Î³ÏÎ¬Ï†Î·Î¼Î± LV
    plot_lv_phase(prey, pred, "lv_phase.png")        # Ï†Î±ÏƒÎ¹ÎºÏŒ Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î± LV

    P0_vals = np.linspace(5, 60, 12)                 # Ï€Î»Î­Î³Î¼Î± Î±ÏÏ‡Î¹ÎºÏÎ½ Ï€Î»Î·Î¸Ï…ÏƒÎ¼ÏÎ½
    r_vals  = np.linspace(0.1, 0.9, 13)              # Ï€Î»Î­Î³Î¼Î± ÏÏ…Î¸Î¼ÏÎ½ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·Ï‚
    Z = sweep_logistic(P0_vals, r_vals, K=900)       # ÏƒÎ¬ÏÏ‰ÏƒÎ· ÎºÎ±Î¹ Î¼ÎµÏ„ÏÎ¹ÎºÎ® ÎºÎ¿ÏÏ…Ï†Î®Ï‚
    pd.DataFrame(Z, index=np.round(P0_vals,2), columns=np.round(r_vals,2)).to_csv(OUT/"logistic_heatmap.csv")  # CSV heatmap
    plot_heatmap(P0_vals, r_vals, Z, "logistic_heatmap.png")   # ÏƒÏ‡ÎµÎ´Î¯Î±ÏƒÎ· heatmap

    print("âœ… ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·: Î´ÎµÎ¯Ï„Îµ Ï„Î± PNG/CSV ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿", OUT)  # Î¼Î®Î½Ï…Î¼Î± Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·Ï‚

if __name__ == "__main__":   # Ï„Ï…Ï€Î¹ÎºÏŒ guard ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚
    main()                   # ÎºÎ»Î®ÏƒÎ· ÎºÏÏÎ¹Î±Ï‚ ÏÎ¿Ï…Ï„Î¯Î½Î±Ï‚
